apiVersion: torq.io/v2alpha
kind: Workflow
id: 0fbf13d2-6c0e-4a74-9a85-59bd3986665c
name: CanaryToken
trigger:
  integrationTrigger:
    integration:
      name: canarytoken
      typeId: webhook
    conditions:
      or:
        and: []
playbook:
  steps:
    - name: us-docker.pkg.dev/stackpulse/public/utils/parameters_utils/workflow_parameters:1.3.0
      id: workflow_parameters
      env:
        SCHEMA: |-
          {
              "slack_integration": {
                  "type": 17,
                  "prettyName": "Slack integration",
                  "description": "The name of the integration with Slack",
                  "uiPlaceholder": "",
                  "integration": {
                      "defaultValue": "",
                      "vendor": "slack"
                  }
              }
          }
        VALUES: |-
          {
            "slack_integration": "wolken"
          }
      uuid: 91832e6d-388c-475a-8bb7-7956172aabf9
      pretty_name: Workflow Parameters
      options:
        executor:
          name: utils_workflow_parameters_v_1_3_0
          env: {}
          sync: true
          disable: false
      manifestId: 30ebccc8-0ce8-5f13-960d-bc03b0179f53
      isPrivate: false
      mock_output:
        enabled: false
      skip: false
      retry: {}
    - name: us-docker.pkg.dev/stackpulse/public/slack/message/snippet:1.4.0
      id: send_snippet
      env:
        CONTENT: '{{ $.event }}'
        RECIPIENT: '#dwl-tech'
      envFrom:
        integrationRef: wolken
      uuid: ada51e8e-e85b-49a1-99d0-86f194ad0e12
      pretty_name: Send Snippet
      options:
        executor:
          name: slack_message_snippet_v_1_4_0
          env: {}
          sync: true
          disable: false
      manifestId: c7bb7e01-f23e-5fb6-b4c5-318815817cea
      isPrivate: false
      mock_output:
        enabled: false
      skip: false
      retry: {}
  output_schema: '{}'
root: true
